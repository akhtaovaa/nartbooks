<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="NartBooks ‚Äî –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–Ω–∏–≥–∞–º–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏">
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Äî NartBooks</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Hero-–±–ª–æ–∫ –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ -->
    <section class="hero hero-admin">
        <div class="container">
            <h1 class="hero-title">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
            <p class="hero-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∞–º–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</p>
        </div>
    </section>

    <!-- –í–∫–ª–∞–¥–∫–∏ -->
    <section class="admin-tabs-section">
        <div class="container">
            <div class="admin-tabs">
                <button class="admin-tab-btn active" data-tab="books">
                    <span>–ö–Ω–∏–≥–∏</span>
                </button>
                <button class="admin-tab-btn" data-tab="users">
                    <span>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</span>
                </button>
            </div>
        </div>
    </section>

    <!-- –í–∫–ª–∞–¥–∫–∞ –ö–Ω–∏–≥–∏ -->
    <section id="booksTab" class="admin-content-section">
        <div class="container">
            <div class="admin-header">
                <h2 class="section-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∞–º–∏</h2>
                <button class="btn btn-primary" id="addBookBtn">
                    <span>+ –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É</span>
                </button>
            </div>

            <div id="booksList" class="admin-list">
                <div class="spinner"></div>
                <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            </div>

            <div id="booksPagination" class="pagination"></div>

            <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–Ω–∏–≥–∏ -->
            <div id="bookFormSection" class="admin-form-section hidden">
                <div class="admin-form-card">
                    <h3 class="admin-form-title" id="bookFormTitle">–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É</h3>
                    <form id="bookForm" class="admin-form">
                        <input type="hidden" id="bookIdInput">
                        
                        <div class="form-group">
                            <h3 class="form-group-title">–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                            <div class="form-row">
                                <div class="form-field">
                                    <label for="bookTitleInput">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                                    <input type="text" id="bookTitleInput" required placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏">
                                    <span class="field-error"></span>
                                </div>
                                <div class="form-field">
                                    <label for="bookAuthorInput">–ê–≤—Ç–æ—Ä *</label>
                                    <input type="text" id="bookAuthorInput" required placeholder="–ò–º—è –∞–≤—Ç–æ—Ä–∞">
                                    <span class="field-error"></span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <h3 class="form-group-title">–î–∞—Ç–∞ –∏ –º–µ—Å—Ç–æ</h3>
                            <div class="form-row">
                                <div class="form-field">
                                    <label for="bookDateInput">–î–∞—Ç–∞ *</label>
                                    <input type="text" id="bookDateInput" required placeholder="2024-01-15">
                                    <span class="field-error"></span>
                                </div>
                                <div class="form-field">
                                    <label for="bookLocationInput">–ú–µ—Å—Ç–æ *</label>
                                    <input type="text" id="bookLocationInput" required placeholder="–ú–µ—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∏">
                                    <span class="field-error"></span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <h3 class="form-group-title">–û–ø–∏—Å–∞–Ω–∏–µ</h3>
                            <div class="form-field">
                                <textarea id="bookDescriptionInput" rows="6" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –∫–Ω–∏–≥–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"></textarea>
                            </div>
                        </div>

                        <div id="bookFormStatus" class="form-message hidden"></div>

                        <div class="form-submit">
                            <button type="submit" class="btn btn-primary btn-large">
                                <span class="btn-text">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</span>
                                <span class="btn-spinner hidden"></span>
                            </button>
                            <button type="button" class="btn btn-secondary" id="cancelBookBtn">–û—Ç–º–µ–Ω–∞</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- –í–∫–ª–∞–¥–∫–∞ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ -->
    <section id="usersTab" class="admin-content-section hidden">
        <div class="container">
            <div class="admin-header">
                <h2 class="section-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
            </div>

            <div id="usersList" class="admin-list">
                <div class="spinner"></div>
                <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            </div>

            <div id="usersPagination" class="pagination"></div>
        </div>
    </section>

    <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –¥–æ—Å—Ç—É–ø–∞ -->
    <section id="accessDenied" class="admin-content-section hidden">
        <div class="container">
            <div class="admin-form-card">
                <h2 class="section-title">–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω</h2>
                <p class="form-description">–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.</p>
                <div class="form-message error" id="accessError" style="margin-bottom: var(--spacing-lg);"></div>
                <div style="background: #f0f9ff; border: 1px solid #bae6fd; border-radius: 8px; padding: var(--spacing-md); margin-bottom: var(--spacing-lg);">
                    <h4 style="margin: 0 0 var(--spacing-xs); color: #0369a1; font-size: var(--font-size-base);">üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤—Ö–æ–¥—É:</h4>
                    <ol style="margin: var(--spacing-xs) 0 0 0; padding-left: var(--spacing-lg); color: var(--color-text-secondary); font-size: var(--font-size-sm);">
                        <li>–ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É"</li>
                        <li>–í–≤–µ–¥–∏—Ç–µ email: <strong>admin@nartbooks.com</strong></li>
                        <li>–ù–∞–∂–º–∏—Ç–µ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥"</li>
                        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ</li>
                        <li>–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–µ—Ä–Ω—ë—Ç–µ—Å—å –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</li>
                    </ol>
                </div>
                <div class="form-submit">
                    <a href="auth.html?redirect=admin.html" class="btn btn-primary">–í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É</a>
                    <a href="index.html" class="btn btn-secondary" style="margin-left: var(--spacing-sm);">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
                </div>
            </div>
        </div>
    </section>

    <script src="js/api.js"></script>
    <script src="js/admin.js"></script>
    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤
        window.addEventListener('error', function(e) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–∞:', e);
            const accessDenied = document.getElementById('accessDenied');
            if (accessDenied) {
                accessDenied.classList.remove('hidden');
                const errorEl = document.getElementById('accessError');
                if (errorEl) {
                    errorEl.textContent = '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞.';
                    errorEl.classList.remove('hidden');
                }
            }
        });
    </script>
</body>
</html>
